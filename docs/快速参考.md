# 量子态层析工具 - 快速参考

## 🚀 快速启动

| 功能 | 命令 | 说明 |
|------|------|------|
| 标准UI | `run_ui` | 图形界面，适合日常使用 |
| Bell态分析 | `run_ui_with_bell` | 包含Bell态分析的UI |
| 命令行 | `main_Excel_o_ui` | 批量处理，需先修改参数 |

## ⚙️ 参数配置

### 图形界面参数
- **数据路径**: 选择包含CSV/XLSX文件的文件夹
- **文件类型**: CSV 或 XLSX
- **列号**: 数据列号（通常为1）
- **维度**: 量子态维度（2, 3, 4, 9, 16等）
- **文件编号范围**: 要处理的文件编号
- **保存路径**: 结果保存位置

### 命令行参数（main_Excel_o_ui.m）
```matlab
base_path = '数据文件夹路径';
dimension = 2;              % 维度
base_number_start = 1;      % 起始编号
base_number_end = 10;       % 结束编号
k = 1;                      % 列号
```

## 📁 输出文件

### 标准输出
```
rho_matrix_[编号].mat      # 密度矩阵(MATLAB)
rho_matrix_[编号].xlsx     # 密度矩阵(Excel)
file_[编号]_amplitude.png  # 振幅图
file_[编号]_phase.png      # 相位图
results_[编号].txt         # 结果文本
```

### Bell态分析输出
```
file_[编号]_bell_fidelity.xlsx    # Bell态保真度
file_[编号]_bell_analysis.mat     # Bell态分析结果
file_[编号]_bell_analysis.txt     # Bell态分析报告
```

## 🔧 常用命令

### 检查依赖
```matlab
% 检查核心函数
which reconstruct_density_matrix_nD
which likelihood_function
which reconstruct_density_matrix_nD_MLE

% 检查Bell态函数
which Bell_state
which fidelity
```

### 加载结果
```matlab
% 加载密度矩阵
load('rho_matrix_1.mat', 'rho_final');

% 计算纯度
purity = trace(rho_final^2);

% 计算保真度
fidelity_value = fidelity(rho1, rho2);
```

## 📊 结果验证

### 关键指标
- **chi²值**: < 1e-4 (越小越好)
- **纯度**: 0-1 (越接近1越纯)
- **保真度**: 0-1 (越接近1越好)

### 检查方法
```matlab
% 检查chi²值
disp(['chi^2: ', num2str(chi2_value)]);

% 检查纯度
purity = trace(rho^2);
disp(['纯度: ', num2str(purity)]);

% 检查保真度
fid = fidelity(rho1, rho2);
disp(['保真度: ', num2str(fid)]);
```

## 🎯 使用场景

### 1. 单文件分析
```matlab
run_ui  % 启动UI，选择单个文件
```

### 2. 批量处理
```matlab
% 修改main_Excel_o_ui.m参数
base_number_start = 1;
base_number_end = 100;
main_Excel_o_ui;
```

### 3. Bell态研究
```matlab
run_ui_with_bell  % 启动Bell态分析版本
% 设置维度为4, 9或16
% 勾选"启用Bell态分析"
```

## ⚠️ 注意事项

### 维度限制
- **Bell态分析**: 仅支持4, 9, 16维度
- **标准分析**: 支持任意维度

### 文件格式
- **支持**: CSV, XLSX
- **数据**: 数值矩阵，每行一个测量值

### 内存要求
- **小文件**: 2GB内存足够
- **大文件**: 建议8GB以上内存

## 🐛 故障排除

### 常见错误
1. **"函数未定义"** → 检查MATLAB路径
2. **"维度不支持"** → 检查维度设置
3. **"文件不存在"** → 检查文件路径
4. **"内存不足"** → 减少处理文件数量

### 调试命令
```matlab
% 检查工作目录
pwd

% 检查文件列表
dir('*.csv')

% 检查变量
whos

% 检查函数路径
which function_name
```

## 📞 获取帮助

- **详细文档**: [使用指南](使用指南.md)
- **技术文档**: [依赖关系分析](依赖关系分析文档.md)
- **问题反馈**: 联系开发团队

---

*快速参考 - 2024年版本*
